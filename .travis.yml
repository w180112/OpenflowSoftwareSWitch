language: C
sudo: false

branches:
  only:
  - master
  - tss
  - dpdk

compiler:
  - gcc

os:
  - linux

before_install:
  - sudo apt-get install -y libnuma-dev
  - sudo apt-get install -y linux-modules-4.15.0-1028-gcp linux-headers-$(uname -r)

script:
  - export RTE_SDK=lib/dpdk-stable-19.11.3
  - export RTE_TARGET=x86_64-native-linux-gcc
  - cd lib/dpdk-stable-19.11.3
  - make install T=x86_64-native-linux-gcc -j 10
  - cd ../..
  - make
